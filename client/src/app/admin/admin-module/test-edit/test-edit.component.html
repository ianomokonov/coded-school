<form [formGroup]="form" (ngSubmit)="onSave()">
    <span class="p-float-label mb-3">
        <input class="w-12" pInputText formControlName="name" />
        <label for="email">Название теста</label>
    </span>
    <p-button label="Сохранить" type="submit"></p-button>
    <div class="pt-3">
        <h3>Вопросы</h3>
        @for (question of getQuestionControls(); track questionIndex; let questionIndex = $index) {
            <div class="border-1 border-200 border-round p-3 mb-3" [formGroup]="question">
                <span class="p-float-label mb-3">
                    <input class="w-12" pInputText formControlName="question" />
                    <label for="email">Вопрос</label>
                </span>
                <div class="pb-2">
                    @for (
                        answer of getAnswerControls(question);
                        track answerIndex;
                        let answerIndex = $index
                    ) {
                        <div class="flex align-items-center gap-3 mb-1" [formGroup]="answer">
                            <p-checkbox [binary]="true" formControlName="isCorrect"></p-checkbox>
                            <span class="p-float-label flex-grow-1">
                                <input
                                    [id]="'cor_' + questionIndex + '_' + answerIndex"
                                    class="w-12"
                                    pInputText
                                    formControlName="label"
                                />
                                <label [for]="'cor_' + questionIndex + '_' + answerIndex"
                                    >Ответ</label
                                >
                            </span>
                        </div>
                    }
                </div>

                <p-button
                    [text]="true"
                    class="mt-2"
                    label="Добавить ответ"
                    icon="pi pi-plus"
                    (onClick)="addAddAnswer(question)"
                ></p-button>
            </div>
        }
        <p-button
            [raised]="true"
            [text]="true"
            label="Добавить вопрос"
            icon="pi pi-plus"
            (onClick)="addQuestion()"
        ></p-button>
    </div>
</form>
